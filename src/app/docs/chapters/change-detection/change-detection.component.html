<h1>Change Detection and Re-rendering</h1>

<p>
  Change detection makes data binding in Angular just work.<br />
  By traversing the whole component tree top to bottom of your app it detects
  changes, triggers a re-render if needed and marks unused elements for garbage
  collection.<br />
  Ideally a change detection only gets executed if really something changed.
</p>

<h2>What triggers a change-detection cycle?</h2>

<ul class="list-disc m-4">
  <li>"on"-Events, eg: click, scroll, keydown, etc.</li>
  <li>Ajax events, eg: http</li>
  <li>setTimeout, setInterval, requestAnimationFrame</li>
  <li>
    Angular wraps callbacks that trigger redundant change detection cycles
    (often 3p libs)
  </li>
</ul>

<h2>Investigate change detections cycles</h2>

<p>There are several ways we can investigate the change detection.</p>
<p>Use the Profile from the Angular DevTools</p>

<p>
  Add a <code>console.log('PokemonsListComponent')</code> inside the
  <strong>ngAfterViewChecked</strong> hook of a component and watch how many times it runs.
</p>

<p>To measure how</p>
<pre class="bg-slate-800 text-white">
  <code>
    platformBrowserDynamic().bootstrapModule(AppModule)
      .then(module => enableDebugTools(module.injector.get(ApplicationRef).components[0]));
  </code>
</pre>

<p>
  As a rule of thunmb: A change detection should not last longer than 0.016ms,
  the whole cycle should not take longer than 16ms!
</p>
<p>
  If the whole change detection cycle takes longer than 60ms the whole cycle
  should not take longer than 16ms!
</p>
